# @premieroctet/next-admin

## 3.0.0

### Major Changes

- 16aba39: # New feature

  - App router is now supported. You can find an exemple of its usage in the example app.
  - New context object, currently passed only to the `formatter` function

  You can now use App Router like the following:

  ```tsx
  // app/admin/[[...nextadmin]]/page.tsx
  import { NextAdmin } from "@premieroctet/next-admin";
  import { getPropsFromParams } from "@premieroctet/next-admin/dist/appRouter";
  import "@premieroctet/next-admin/dist/styles.css";
  import Dashboard from "../../../components/Dashboard";
  import { options } from "../../../options";
  import { prisma } from "../../../prisma";
  import schema from "../../../prisma/json-schema/json-schema.json"; // generated by prisma-json-schema-generator on yarn run prisma generate
  import "../../../styles.css";
  import { submitFormAction } from "../../../actions/nextadmin";

  export default async function AdminPage({
    params,
    searchParams,
  }: {
    params: { [key: string]: string[] };
    searchParams: { [key: string]: string | string[] | undefined } | undefined;
  }) {
    const props = await getPropsFromParams({
      params: params.nextadmin,
      searchParams,
      options,
      prisma,
      schema,
      action: submitFormAction,
    });

    return <NextAdmin {...props} dashboard={Dashboard} />;
  }
  ```

## 2.0.0

### Major Changes

- dbb5a3e: - Always fetch `id` property from items

  - Hide `id`column in list if it doesn't have `display: true` options
  - Mutualize `NextAdminOptions` to reduce useless duplication of code
  - Add file upload input

  ⚠️ **Breaking Changes**

  To reduce the complexity and duplication of next-admin options, this PR contains major changes to the structure of the options.

  - Changed structure for `display` and `search` properties: fields are now entered as an array

### Patch Changes

- dbb5a3e: Add formatting system to relationship column
- dbb5a3e: Add ability to choose format type for Date property between date-time and date in edit options
  Introduce handler object to handle custom logic for a property in edit mode
  Add ability to use input variant in edit mode
  Fix datetime-local input to store correct datetime

## 1.4.1

### Patch Changes

- 02a7fac: fix: validation crash and improve typing
- 52d5838: feat: improve ui and demo

## 1.4.0

### Minor Changes

- 1fe2774: feat: display currently selected menu
- dd0aa0d: feat: loading indicator on client side navigation
- 96dd99b: Add e2e tests
- c6459e8: feat: add Prisma 5 compatibility
- 06c44a7: feat: dynamic base path
- 088bfc9: feat: data server validation

## 1.3.8

### Patch Changes

- 649b547: feat: field formatter option
- 1c3f590: feat: hide models that are not defined in admin options
- bb27872: refactor: ressource -> resource

## 1.3.7

### Patch Changes

- 7bcf33c: change package properties

  Change type: fix

## 1.3.6

### Patch Changes

- 7bcf33c: change package properties

## 1.3.5

### Patch Changes

- c7bbf42: Support differents name case

## 1.3.4

### Patch Changes

- Date input changes

## 1.3.3

### Patch Changes

- change list style, serialize date

## 1.3.2

### Patch Changes

- Patch

## 1.3.1

### Patch Changes

- Support id as string

## 1.3.0

### Minor Changes

- Relationships of model

## 1.2.0

### Minor Changes

- Fix prisma peer dependency

## 1.1.1

### Patch Changes

- Fix router compat

## 1.1.0

### Minor Changes

- e752c5b: Fix multiple entry points and css bundling

## 1.0.0

### Major Changes

- 6af8145: Fist release of @premieroctet/next-admin package (unstable)

